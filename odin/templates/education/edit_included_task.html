{% extends "dashboard/dashboard_base.html" %}
{% load widget_tweaks %}

{% block content_title %}
  Edit included task
{% endblock content_title%}

{% block page_content %}
  <div class="row">
    <form class="col-md-6" action="" method="post">
      {% csrf_token %}
      <div class="form-group">
        {{ form.name.label }}
        {% render_field form.name class="form-control form-control-solid" placeholder="form.name.label"%}
      </div>
      <div class="form-group">
        {{ form.topic.label }}
        {% render_field form.topic class="form-control form-control-solid"%}
      </div>
      <div class="form-group">
        {{ form.description.label }}
        {% render_field form.description class="form-control form-control-solid"%}
      </div>
      <div class="form-group">
        {{ form.gradable.label }}
        {% render_field form.gradable class="form-control-solid"%}
      </div>
      <div class="form-actions">
        <button class="btn green uppercase" type="submit" name="button">Update</button>
        {% if object.gradable %}
          {% if object.test %}
            <a href="{% url 'dashboard:education:course-management:edit-test' course.id object.id %}">
              <button class="btn green uppercase" type="button" name="button">Edit test</button>
            </a>
          {% else %}
            <a href="{% url 'dashboard:education:course-management:add-source-test' course.id object.id %}">
              <button class="btn green uppercase" type="button" name="button">Add source code test</button>
            </a>
            <a href="{% url 'dashboard:education:course-management:add-binary-test' course.id object.id %}">
              <button class="btn green uppercase" type="button" name="button">Add binary test</button>
            </a>
          {% endif %}
        {% endif %}
      </div>
    </form>
  </div>
{% endblock page_content %}
