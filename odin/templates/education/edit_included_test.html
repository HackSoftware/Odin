{% extends "dashboard/dashboard_base.html" %}
{% load widget_tweaks %}
{% load static %}

{% block content_title %}
  Edit included test
{% endblock content_title%}

{% block page_content %}
  <div class="row">
    <div class="col-md-6">
      {% include "education/partial/message_box.html" %}
      {% include "partial/form_errors.html" with errors=readable_errors %}
      <div class="portlet light ">
        <div class="portlet-title">
          <div class="caption font-blue-sunglo">
            <i class="icon-settings font-blue-sunglo"></i>
            <span class="caption-subject bold uppercase"> Edit test</span>
          </div>
        </div>
        <div class="portlet-body form">
          <form action="" method="POST">
            <div class="form-body">
              {% csrf_token %}

              <div class="form-group form-md-line-input">
                {{ form.language.label }}
                {% render_field form.language class="form-control form-control-solid" id="form_control_1" %}
              </div>
              <div class="form-group form-md-line-input">
                {{ form.code.label }}
                {% render_field form.code class="form-control form-control-solid placeholder-no-fix" id="code_area" placeholder="Enter your tests here" %}
	      </div>
              <div class="form-group form-md-line-input">
                {{ form.file.label }}
                {% render_field form.file class="form-control form-control-solid" id="form_control_1" %}
	      </div>
              <div class="form-actions noborder">
                <button class="btn green uppercase" type="submit">Update</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
{% endblock page_content %}

{% block extra_scripts %}
  <link href="{% static 'codemirror/lib/codemirror.css' %}" rel="stylesheet" type="text/css">
  <link href="{% static 'codemirror/theme/neat.css' %}" rel="stylesheet" type="text/css">
  <script src="{% static 'codemirror/lib/codemirror.js' %}"></script>
  <script src="{% static 'codemirror/mode/python/python.js'%}"></script>
  <script type="text/javascript">
   var codeArea = $('#code_area')[0];
   var testMirror = CodeMirror.fromTextArea(codeArea,
                                            {
                                                lineNumbers: true,
                                                mode: "python",
                                                matchBrackets: true,
                                                theme: "neat",
                                                indentUnit: 4

                                            })
   testMirror.refresh();
  </script>
{% endblock extra_scripts %}
